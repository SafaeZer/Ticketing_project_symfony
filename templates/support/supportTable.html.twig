{% extends 'base.html.twig' %}

{% block title %}{% endblock %}

{% block body %}
	{% for message in app.flashes('notice') %}
		<div class="flash-notice">
			{{ message }}
		</div>
	{% endfor %}
	<div class="table-responsive">
		<div class="row my-5">
			<div class="">
				<div class="card">
					<table class="table table-striped table-sm">
						<thead>
							<tr>
								<th scope="col">Status</th>
								<th scope="col">Type</th>
								<th scope="col">Category</th>
								<th scope="col">Title</th>
								<th scope="col">Description</th>
								<th scope="col">Files</th>
								<th scope="col">Created_date</th>
								<th scope="col">updated_date</th>
								<th scope="col">Priority</th>
								<th scope="col">Actions</th>
							</tr>
						</thead>
						<tbody>
							{% for ticket in tickets %}
								<tr>
									<td scope="row">{{ticket.status.name}}</td>
									<td>{{ticket.ticketType.name}}</td>
									<td>{{ticket.category.name}}</td>
									<td>{{ticket.titre}}</td>
									<td>{{ticket.description}}</td>
									<td>{{ticket.files}}</td>
									<td>{{ticket.createddate|date}}</td>
									<td>{{ticket.updateddate|date}}</td>
									<td>{{ticket.priority}}</td>
									<td>
										<a class="btn btn-sm btn-dark" href="{{ path('ticket_show', {id : ticket.id}) }}">Show</a>
										<a class="btn btn-sm btn-warning" href="{{ path('update', {id : ticket.id}) }}">Update</a>
										<a class="btn btn-sm btn-danger" href="{{ path('delete', {id : ticket.id}) }}">Delete</a>
									</td>
								</tr>
							{% endfor %}
						</tbody>
					</table>
				</div>
			</div>
		</div>
	</div>
{% endblock %}
